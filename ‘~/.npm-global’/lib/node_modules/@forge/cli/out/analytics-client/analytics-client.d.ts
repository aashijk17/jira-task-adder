import { CredentialGetter } from '@forge/cli-shared';
import { CachedConfigService } from '../service/cached-config-service';
import { Storage } from '../storage/local-file-storage';
import { DeferredErrors } from '../command-line/errors';
export declare type AttributeMapper<T> = (val: T) => T | undefined;
export declare type AppPackagedAttributes = {
    jsFiles: number;
    tsFiles: number;
    esm: boolean;
    dependencies: string[];
    sdkImports: string[];
    isCI: boolean;
    errors: number;
    bundler?: string;
};
export declare class AnalyticsClientReporter {
    private readonly storage;
    private readonly configService;
    private readonly credentialStore;
    constructor(storage: Storage, configService: CachedConfigService, credentialStore: CredentialGetter);
    private readonly source;
    reportSuccess(cmdName: string, attributes: {
        [key: string]: any;
    }): Promise<void>;
    reportFailure(cmdName: string, attributes: {
        [key: string]: any;
    }, e: Error): Promise<void>;
    reportCommandInvoke(cmdName: string, attributes: {
        [key: string]: any;
    }): Promise<void>;
    reportInvokeFailure(cmdName: string, attributes: {
        [key: string]: any;
    }, e?: Error | DeferredErrors): Promise<void>;
    reportAppPackaged(attributes: AppPackagedAttributes): Promise<void>;
    reportDevSpaceCreated(attributes: {
        developerSpaceId: string;
        developerSpaceName: string;
        isRetryAttempt: boolean;
    }): Promise<void>;
    reportDevSpaceRetryAttempt(attributes: {
        triedDeveloperSpaceName: string;
        reason: string;
    }): Promise<void>;
    private reportTrackEvent;
    private reportOperationalEvent;
    private processAnalyticsEvent;
    private _getUserId;
    private _getErrorDetails;
    private _getErrorListDetails;
    private _asContainer;
    private _nodeVersion;
    private _machineId;
    private _asAttribute;
    private _getAttributes;
    private _getContainer;
    static formatValue(value: any): string;
}
//# sourceMappingURL=analytics-client.d.ts.map