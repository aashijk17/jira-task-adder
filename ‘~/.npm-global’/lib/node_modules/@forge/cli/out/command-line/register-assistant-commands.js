"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.registerCommands = void 0;
const cli_shared_1 = require("@forge/cli-shared");
const COMMAND_NAME = 'assistant';
const ON_COMMAND_NAME = 'on';
const OFF_COMMAND_NAME = 'off';
const registerAssistantOnCommand = ({ cmd, controllers: { assistantController } }) => {
    cmd
        .command(`${ON_COMMAND_NAME} <name>`)
        .description(`${cli_shared_1.Text.assistant.on.description}`)
        .requireNoAuthentication()
        .action(async (name) => {
        await assistantController.enableAssistant(name);
        return { analytics: {} };
    });
};
const registerAssistantOffCommand = ({ cmd, controllers: { assistantController } }) => {
    cmd
        .command(OFF_COMMAND_NAME)
        .description(cli_shared_1.Text.assistant.off.description)
        .requireNoAuthentication()
        .action(async () => {
        await assistantController.disableAssistant();
        return { analytics: {} };
    });
};
const registerCommands = ({ cmd, ...deps }) => {
    const assistant = cmd.command(COMMAND_NAME).requireNoAuthentication().description(cli_shared_1.Text.assistant.description);
    registerAssistantOnCommand({ cmd: assistant, ...deps });
    registerAssistantOffCommand({ cmd: assistant, ...deps });
};
exports.registerCommands = registerCommands;
//# sourceMappingURL=register-assistant-commands.js.map