"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.LoginCommand = void 0;
class LoginCommand {
    userRepository;
    store;
    constructor(userRepository, store) {
        this.userRepository = userRepository;
        this.store = store;
    }
    async execute(credentials) {
        const user = await this.userRepository.getUser(credentials);
        await this.store.setCredentials({ ...credentials, accountId: user.accountId });
        return user;
    }
}
exports.LoginCommand = LoginCommand;
