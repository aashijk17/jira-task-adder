"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SQLNodeVisitor = void 0;
const typescript_estree_1 = require("@typescript-eslint/typescript-estree");
const api_call_interface_1 = require("../api-call-interface");
class SQLNodeVisitor {
    visit(node, _parent, callback) {
        if (node.type === typescript_estree_1.AST_NODE_TYPES.ImportDeclaration && node.source.value === '@forge/sql') {
            node.specifiers.forEach((specifier) => {
                if (specifier.type === 'ImportDefaultSpecifier' && specifier.local.type === 'Identifier') {
                    if (specifier.loc) {
                        const sqlApiCall = {
                            type: api_call_interface_1.ApiCallTypes.SQL,
                            ...specifier.loc.start
                        };
                        callback(sqlApiCall);
                    }
                }
            });
        }
    }
}
exports.SQLNodeVisitor = SQLNodeVisitor;
