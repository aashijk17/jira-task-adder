"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const [_nodeBinary, _thisScript, fileName, handlerName] = process.argv;
global.__forge_tunnel__ = true;
const handler = require(fileName)[handlerName];
process.on('message', async ({ lambdaEvent, tunnelContext: { requestId, deadline } }) => {
    const lambdaContext = {
        awsRequestId: requestId,
        getRemainingTimeInMillis: () => deadline - Date.now()
    };
    const result = await handler(lambdaEvent, lambdaContext);
    process.send?.({ requestId, result });
});
