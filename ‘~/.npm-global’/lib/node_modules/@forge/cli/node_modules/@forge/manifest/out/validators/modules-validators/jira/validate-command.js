"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateJiraCommandModule = void 0;
const validate_module_key_references_1 = require("./validate-module-key-references");
const validateJiraCommandModule = (modules, yamlContentByLine) => {
    if (!modules['jira:command'])
        return [];
    const keyReferences = modules['jira:command']
        .filter((module) => 'page' in module.target)
        .map((module) => {
        return { moduleKey: module.key, referencedModuleKey: module.target.page };
    });
    if (keyReferences?.length === 0)
        return [];
    return (0, validate_module_key_references_1.validateModuleReferences)(modules, ['jira:globalPage', 'jira:adminPage', 'jira:projectPage', 'jira:projectSettingsPage'], keyReferences, yamlContentByLine);
};
exports.validateJiraCommandModule = validateJiraCommandModule;
