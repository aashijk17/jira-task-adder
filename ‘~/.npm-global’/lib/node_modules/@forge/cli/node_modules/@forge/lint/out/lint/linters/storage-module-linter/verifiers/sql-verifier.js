"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SQLVerifier = void 0;
const linter_interface_1 = require("../../../linter-interface");
const verifier_interface_1 = require("../../verifier-interface");
const text_1 = require("../../../text");
const SQL_MODULE = 'sql';
class SQLVerifier extends verifier_interface_1.BaseLintIssueVerifier {
    getLintClass() {
        return linter_interface_1.LintClass.Warning;
    }
    async process(apiCalls) {
        if (this.manifest.modules && SQL_MODULE in this.manifest.modules) {
            return [];
        }
        return apiCalls.map((apiCall) => ({
            class: this.getLintClass(),
            message: text_1.messages.verifiers.sql.message(SQL_MODULE),
            reference: text_1.messages.verifiers.sql.reference,
            ...apiCall,
            metadata: {
                missingSQLModule: SQL_MODULE
            }
        }));
    }
}
exports.SQLVerifier = SQLVerifier;
