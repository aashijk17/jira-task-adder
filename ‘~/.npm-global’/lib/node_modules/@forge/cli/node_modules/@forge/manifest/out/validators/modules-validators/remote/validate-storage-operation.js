"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateStorageOperation = void 0;
const module_key_cleaner_1 = require("../../../utils/module-key-cleaner");
const types_1 = require("../../../types");
const text_1 = require("../../../text");
const utils_1 = require("../../../utils");
const validateStorageOperation = (allModules, yamlContentByLine) => {
    const validationErrors = [];
    const remotes = allModules[(0, module_key_cleaner_1.cleanKey)(types_1.AllModuleTypes.CoreRemote)];
    for (const remote of remotes ?? []) {
        if (remote.operations?.includes('storage') && !remote.storage?.inScopeEUD) {
            validationErrors.push({
                message: text_1.errors.modules.remote.missingModuleRemoteStorageInScopeEUD(remote.key),
                reference: text_1.References.Modules,
                level: 'error',
                ...(0, utils_1.findPosition)(remote.key, yamlContentByLine)
            });
        }
    }
    return validationErrors;
};
exports.validateStorageOperation = validateStorageOperation;
