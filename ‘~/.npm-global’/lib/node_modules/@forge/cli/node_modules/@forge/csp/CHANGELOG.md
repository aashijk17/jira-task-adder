# @forge/csp

## 5.1.1

### Patch Changes

- 4cc304c: Add hostname to style-src CSP

## 5.1.1-next.0

### Patch Changes

- 4cc304c: Add hostname to style-src CSP

## 5.1.0

### Minor Changes

- e7b32c9: Whitelist FOP GE url for Forge Feature Flags

## 5.1.0-next.0

### Minor Changes

- e7b32c9: Whitelist FOP GE url for Forge Feature Flags

## 5.0.2

### Patch Changes

- 895d478: Updates Agent MD file with appropriate instructions

## 5.0.2-next.0

### Patch Changes

- 895d478: Updates Agent MD file with appropriate instructions

## 5.0.1

### Patch Changes

- 278cd16: Add allow-popups and allow-popups-to-escape-sandbox to sandbox attribute in cspInjectionService
- 3620005: Change PTC URLs to teams for gradient assets

## 5.0.1-next.0

### Patch Changes

- 278cd16: Add allow-popups and allow-popups-to-escape-sandbox to sandbox attribute in cspInjectionService
- 3620005: Change PTC URLs to teams for gradient assets

## 5.0.0

### Major Changes

- bc8e0c5: Setup cheerio as optional peer dependency to allow frontend consumption

### Patch Changes

- 925c62e: Bump content-security-policy-parser to 0.5.0

## 5.0.0-next.1

### Patch Changes

- 925c62e: Bump content-security-policy-parser to 0.5.0

## 5.0.0-next.0

### Major Changes

- bc8e0c5: Setup cheerio as optional peer dependency to allow frontend consumption

## 4.2.1

### Patch Changes

- aebd633: Patch @forge/csp IC frame ancestors csp bug
- abf0bb1: Add support for custom getICDomain option in CSPInjectionService
- e33aba7: Bumped a large number of vulnerable dependencies within forge templates via automatic upgrade
- 8191ad1: Use cheerio/slim to reduce client bundle size and improve performance

## 4.2.1-next.0

### Patch Changes

- aebd633: Patch @forge/csp IC frame ancestors csp bug
- abf0bb1: Add support for custom getICDomain option in CSPInjectionService
- e33aba7: Bumped a large number of vulnerable dependencies within forge templates via automatic upgrade
- 8191ad1: Use cheerio/slim to reduce client bundle size and improve performance

## 4.2.0

### Minor Changes

- cfde21e: Add CSP Urls for IC environment

## 4.2.0-next.0

### Minor Changes

- cfde21e: Add CSP Urls for IC environment

## 4.1.0

### Minor Changes

- effab31: Bumped cheerio from 0.22 to 1.1

### Patch Changes

- 195411c: patch dependencies
- f5ba3aa: Allow-list Atlassian media URLs by default for media CSP policies

## 4.1.0-next.2

### Minor Changes

- effab31: Bumped cheerio from 0.22 to 1.1

## 4.0.1-next.1

### Patch Changes

- f5ba3aa: Allow-list Atlassian media URLs by default for media CSP policies

## 4.0.1-next.0

### Patch Changes

- 195411c: patch dependencies

## 4.0.0

### Major Changes

- 8f2a3c9: Update the package to build on Node 20

## 4.0.0-next.0

### Major Changes

- 8f2a3c9: Update the package to build on Node 20

## 3.9.0

### Minor Changes

- 27be197: Add embedded Confluence page domain to CSP to support rendering macros in embedded pages

## 3.9.0-next.0

### Minor Changes

- 27be197: Add embedded Confluence page domain to CSP to support rendering macros in embedded pages

## 3.8.0

### Minor Changes

- b796299: Allow listing media APIs for client fetch for custom UI apps

### Patch Changes

- 984c454: Forcing patch bump to update internal registry

## 3.8.0-next.1

### Patch Changes

- 984c454: Forcing patch bump to update internal registry

## 3.8.0-next.0

### Minor Changes

- b796299: Allow listing media APIs for client fetch for custom UI apps

## 3.7.1

### Patch Changes

- 7c76efb: Allow list the team avatars URL by default for Custom UI apps

## 3.7.1-next.0

### Patch Changes

- 7c76efb: Allow list the team avatars URL by default for Custom UI apps

## 3.7.0

### Minor Changes

- a779dc3: Allow listing emoji API y default for Custom UI apps

### Patch Changes

- 8c34ca3: Changed manifest to allow egress objects to be a list of string, egress objects containing at least the 'address' field, or a remote reference

## 3.7.0-next.1

### Patch Changes

- 8c34ca3: Changed manifest to allow egress objects to be a list of string, egress objects containing at least the 'address' field, or a remote reference

## 3.7.0-next.0

### Minor Changes

- a779dc3: Allow listing emoji API y default for Custom UI apps

## 3.6.2

### Patch Changes

- fa77f8d: Revert the package registry change for the package
- 503e60e: Add publish config
- 2086b3d: Remove node-fetch as a dependency

## 3.6.2-next.2

### Patch Changes

- fa77f8d: Revert the package registry change for the package

## 3.6.2-next.1

### Patch Changes

- 503e60e: Add publish config

## 3.6.2-next.0

### Patch Changes

- 2086b3d: Remove node-fetch as a dependency

## 3.6.1

### Patch Changes

- 2330d2c: Update CSP policy for Bitbucket's development environment
- a5e7647: Update license for Forge public packages

## 3.6.1-next.1

### Patch Changes

- a5e7647: Update license for Forge public packages

## 3.6.1-next.0

### Patch Changes

- 2330d2c: Update CSP policy for Bitbucket's development environment

## 3.6.0

### Minor Changes

- 3493ddf: Export image host allowlist

## 3.6.0-next.0

### Minor Changes

- 3493ddf: Export image host allowlist

## 3.5.0

### Minor Changes

- 540ea27: Allow listing the media API for image CSPs
- 02c5edf: Allow listing the emojis CDN for image CSPs

### Patch Changes

- 8724df7: Allowing by default the images sourced from Unsplash website for Custom UI apps

## 3.5.0-next.2

### Minor Changes

- 02c5edf: Allow listing the emojis CDN for image CSPs

## 3.5.0-next.1

### Patch Changes

- 8724df7: Allowing by default the images sourced from Unsplash website for Custom UI apps

## 3.5.0-next.0

### Minor Changes

- 540ea27: Allow listing the media API for image CSPs

## 3.4.1

### Patch Changes

- 2819919: remove connect-to from csp header as it is no longer used

## 3.4.1-next.0

### Patch Changes

- 2819919: remove connect-to from csp header as it is no longer used

## 3.4.0

### Minor Changes

- 4fa9673: Update CSP policies to remove the need for customer defined egress for loading avatar images & host media access

## 3.4.0-next.0

### Minor Changes

- 4fa9673: Update CSP policies to remove the need for customer defined egress for loading avatar images & host media access

## 3.3.0

### Minor Changes

- 90f621b: Revert cheerio upgrade

## 3.3.0-next.1

### Minor Changes

- 90f621b: Revert cheerio upgrade

## 3.3.0-next.0

### Minor Changes

- 4117f97: Bump cheerio from version 0.22 to version 1.0

## 3.2.2

### Patch Changes

- add374d: Change FedRAMP avatar urls to the correct URL

## 3.2.2-next.0

### Patch Changes

- add374d: Change FedRAMP avatar urls to the correct URL

## 3.2.1

### Patch Changes

- bd8bc91: Removing references to FedRamp sandbox

## 3.2.1-next.0

### Patch Changes

- bd8bc91: Removing references to FedRamp sandbox

## 3.2.0

### Minor Changes

- ba85e65: Add support for FedRAMP environments

## 3.2.0-next.0

### Minor Changes

- ba85e65: Add support for FedRAMP environments

## 3.1.6

### Patch Changes

- 882be11: Bumping dependencies via Renovate:

  - @types/jest

## 3.1.6-next.0

### Patch Changes

- 882be11: Bumping dependencies via Renovate:

  - @types/jest

## 3.1.5

### Patch Changes

- bcf9f1d: Reverted package bump on parser

## 3.1.5-next.1

### Patch Changes

- bcf9f1d: Reverted package bump on parser

## 3.1.5-next.0

### Patch Changes

- dcf11c0: Bumping dependencies via Renovate:

  - content-security-policy-parser

## 3.1.4

### Patch Changes

- c714732: Remove unused .forgeignore template feature

## 3.1.4-next.0

### Patch Changes

- c714732: Remove unused .forgeignore template feature

## 3.1.3

### Patch Changes

- b45f058: Bumping dependencies via Renovate:

  - @types/jest

## 3.1.3-next.0

### Patch Changes

- b45f058: Bumping dependencies via Renovate:

  - @types/jest

## 3.1.2

### Patch Changes

- 2cf5ac83: Bumping dependencies via Renovate:

  - @types/jest

## 3.1.2-next.0

### Patch Changes

- 2cf5ac83: Bumping dependencies via Renovate:

  - @types/jest

## 3.1.1

### Patch Changes

- ea837416: Bumping dependencies via Renovate:

  - @types/ignore-walk

- 3c3f7b1b: Bumping dependencies via Renovate:

  - @types/jest

## 3.1.1-next.1

### Patch Changes

- 3c3f7b1: Bumping dependencies via Renovate:

  - @types/jest

## 3.1.1-next.0

### Patch Changes

- ea83741: Bumping dependencies via Renovate:

  - @types/ignore-walk

## 3.1.0

### Minor Changes

- fe364c9: Introduce hostname to CSP to allow avatars to be loaded

### Patch Changes

- cde16c5: Bumping dependencies via Renovate:

  - @types/jest

## 3.1.0-next.1

### Patch Changes

- cde16c5: Bumping dependencies via Renovate:

  - @types/jest

## 3.1.0-next.0

### Minor Changes

- fe364c9: Introduce hostname to CSP to allow avatars to be loaded

## 3.0.1

### Patch Changes

- a3d620b: Bumping dependencies via Renovate:

  - @types/jest

- 3a6bae4: Bumping dependencies via Renovate:

  - @types/ignore-walk

## 3.0.1-next.1

### Patch Changes

- a3d620b1: Bumping dependencies via Renovate:

  - @types/jest

## 3.0.1-next.0

### Patch Changes

- 3a6bae44: Bumping dependencies via Renovate:

  - @types/ignore-walk

## 3.0.0

### Major Changes

- f38e3f86: Add support for adding hostname to frame ancestor when getting injectable CSP

## 3.0.0-next.0

### Major Changes

- f38e3f86: Add support for adding hostname to frame ancestor when getting injectable CSP

## 2.2.3

### Patch Changes

- 0fbf747: Bumping dependencies via Renovate:

  - @types/ignore-walk

- 9d50860: Bumping dependencies via Renovate:

  - @types/node

## 2.2.3-next.1

### Patch Changes

- 0fbf747: Bumping dependencies via Renovate:

  - @types/ignore-walk

## 2.2.3-next.0

### Patch Changes

- 9d50860c: Bumping dependencies via Renovate:

  - @types/node

## 2.2.2

### Patch Changes

- 33e05f3f: Use _.atlassian-fex.net instead of _.atlassian-fex.com for frame-ancestors CSP
- efffc256: Bumping dependencies via Renovate:

  - @types/node

- c1c5fb59: Bumping dependencies via Renovate:

  - @types/node

- 6f4e2f01: Bumping dependencies via Renovate:

  - @types/jest

## 2.2.2-next.3

### Patch Changes

- 6f4e2f01: Bumping dependencies via Renovate:

  - @types/jest

## 2.2.2-next.2

### Patch Changes

- efffc256: Bumping dependencies via Renovate:

  - @types/node

## 2.2.2-next.1

### Patch Changes

- 33e05f3f: Use _.atlassian-fex.net instead of _.atlassian-fex.com for frame-ancestors CSP

## 2.2.2-next.0

### Patch Changes

- c1c5fb5: Bumping dependencies via Renovate:

  - @types/node

## 2.2.1

### Patch Changes

- ccc113ec: Bumping dependencies via Renovate:

  - @types/node

- e3260cf8: Bumping dependencies via Renovate:

  - @types/node

- bf0a343b: Bumping dependencies via Renovate:

  - @types/jest

- 9b9f58d3: Bumping dependencies via Renovate:

  - @types/node

## 2.2.1-next.3

### Patch Changes

- e3260cf: Bumping dependencies via Renovate:

  - @types/node

## 2.2.1-next.2

### Patch Changes

- ccc113ec: Bumping dependencies via Renovate:

  - @types/node

## 2.2.1-next.1

### Patch Changes

- bf0a343b: Bumping dependencies via Renovate:

  - @types/jest

## 2.2.1-next.0

### Patch Changes

- 9b9f58d3: Bumping dependencies via Renovate:

  - @types/node

## 2.2.0

### Minor Changes

- b45820c1: Allow \*.atlassian-fex.com domains to frame Custom UI apps

### Patch Changes

- 439098ca: Add missing dev dependencies

## 2.2.0-next.1

### Patch Changes

- 439098ca: Add missing dev dependencies

## 2.2.0-next.0

### Minor Changes

- b45820c1: Allow \*.atlassian-fex.com domains to frame Custom UI apps

## 2.1.5

### Patch Changes

- 8105c45: Bumping dependencies via Renovate:

  - @types/jest
  - jest
  - jest-environment-jsdom

## 2.1.5-next.0

### Patch Changes

- 8105c45: Bumping dependencies via Renovate:

  - @types/jest
  - jest
  - jest-environment-jsdom

## 2.1.4

### Patch Changes

- 876fe14b: Enable new frame ancestor '\_.stg.atlassian.com'
- 7129bb40: Bumping dependencies via Renovate:

  - content-security-policy-parser

## 2.1.4-next.1

### Patch Changes

- 876fe14b: Enable new frame ancestor '\_.stg.atlassian.com'

## 2.1.4-next.0

### Patch Changes

- 7129bb40: Bumping dependencies via Renovate:

  - content-security-policy-parser

## 2.1.3

### Patch Changes

- 6d9b010: Replace unpkg.com in the Content Security Policy for stylesheets in Forge custom UI with the Forge global URL.

## 2.1.3-next.0

### Patch Changes

- 6d9b010: Replace unpkg.com in the Content Security Policy for stylesheets in Forge custom UI with the Forge global URL.

## 2.1.2

### Patch Changes

- fc10114: Add Metal metric ingestion endpoint to default connect-src

## 2.1.2-next.0

### Patch Changes

- fc10114: Add Metal metric ingestion endpoint to default connect-src

## 2.1.1

### Patch Changes

- 907ce6c: Add navigate-to CSP directive

## 2.1.1-next.0

### Patch Changes

- 907ce6c: Add navigate-to CSP directive

## 2.1.0

### Minor Changes

- eeee3d3: Added ws://localhost to CSP

## 2.1.0-next.0

### Minor Changes

- eeee3d3f: Added ws://localhost to CSP

## 2.0.1

### Patch Changes

- 2a60561: Allow Forge Content Security Policy to load stylesheets from unpkg.com to enable an interim theme mounting solution for Atlassian Design System: Design Tokens

## 2.0.1-next.0

### Patch Changes

- 2a605619: Allow Forge Content Security Policy to load stylesheets from unpkg.com to enable an interim theme mounting solution for Atlassian Design System: Design Tokens

## 2.0.0

### Major Changes

- 3c0ac54: Move egress related services out of @forge/csp into new @forge/egress package

## 2.0.0-next.0

### Major Changes

- 3c0ac54: Move egress related services out of @forge/csp into new @forge/egress package

## 1.11.0

### Minor Changes

- 671a6a63: Skip generating hashes for inline scripts if unsafe-inline is provided

## 1.11.0-next.0

### Minor Changes

- 671a6a6: Skip generating hashes for inline scripts if unsafe-inline is provided

## 1.10.0

### Minor Changes

- e95919f: Added blob csp support for script content permissions with manifest validation
- 56164fe: Add allow-pointer-lock to iframe sandbox

## 1.10.0-next.1

### Minor Changes

- e95919f: Added blob csp support for script content permissions with manifest validation

## 1.10.0-next.0

### Minor Changes

- 56164fe: Add allow-pointer-lock to iframe sandbox

## 1.9.0

### Minor Changes

- 1c196ff: Add support for external fetch client to reference remote

### Patch Changes

- 1dba082: Enabling new frame ancestors '_.atl-paas.net' and '_.atlassian.com'

## 1.9.0-next.1

### Minor Changes

- 1c196ff: Add support for external fetch client to reference remote

## 1.8.1-next.0

### Patch Changes

- 04e4152: Enabling new frame ancestors '_.atl-paas.net' and '_.atlassian.com'

## 1.8.0

### Minor Changes

- d5f3fac: Remove deprecated method for handling CSP user config
- f002362: Revert change for deprecated CSP

## 1.8.0-next.1

### Minor Changes

- f002362: Revert change for deprecated CSP

## 1.8.0-next.0

### Minor Changes

- d5f3fac: Remove deprecated method for handling CSP user config

## 1.7.1

### Patch Changes

- 4b41a80: Added egress messaging to install prompts

## 1.7.1-next.0

### Patch Changes

- 4b41a80: Added egress messaging to install prompts

## 1.7.0

### Minor Changes

- ef00257: Add \*.jira.com to allowed host site list

### Patch Changes

- d7a1fe3: Update dependencies to remove any transitive dependencies on request

## 1.7.0-next.1

### Patch Changes

- d7a1fe3: Update dependencies to remove any transitive dependencies on request

## 1.7.0-next.0

### Minor Changes

- ef00257: Add \*.jira.com to allowed host site list

## 1.6.0

### Minor Changes

- 8714f5a: Add support for fonts and frames as part of Egress Permissions for Custom UI apps

### Patch Changes

- f8ae8a2: Add support for Bitbucket origin in Custom UI

## 1.6.0-next.1

### Patch Changes

- f8ae8a2: Add support for Bitbucket origin in Custom UI

## 1.6.0-next.0

### Minor Changes

- 8714f5a: Add support for fonts and frames as part of Egress Permissions for Custom UI apps

## 1.5.0

### Minor Changes

- 638194f: Fix logic to detect missing fetch egress permission

## 1.5.0-next.0

### Minor Changes

- 638194f: Fix logic to detect missing fetch egress permission

## 1.4.0

### Minor Changes

- 05f608f: Added external fetch linting

### Patch Changes

- bd9194a: Added error protection to egress filtering for URLs with no protocol

## 1.4.0-next.1

### Patch Changes

- bd9194a: Added error protection to egress filtering for URLs with no protocol

## 1.4.0-next.0

### Minor Changes

- 05f608f: Added external fetch linting

## 1.3.0

### Minor Changes

- 9ec2911: Allow style-src as part of Egress Permissions for Custom UI apps

### Patch Changes

- 2ddcdb2: Update frame-ancestors for dev
- 2b3c55d: Fix to restrict frame ancestors of Custom UI apps

## 1.3.0-next.2

### Patch Changes

- 2ddcdb2: Update frame-ancestors for dev

## 1.3.0-next.1

### Minor Changes

- 9ec2911: Allow style-src as part of Egress Permissions for Custom UI apps

## 1.2.1-next.0

### Patch Changes

- 2b3c55d: Fix to restrict frame ancestors of Custom UI apps

## 1.2.0

### Minor Changes

- 6c482ef: Add `allow-downloads allow-modals` to sandbox

## 1.2.0-next.0

### Minor Changes

- 6c482ef: Add `allow-downloads allow-modals` to sandbox

## 1.1.0

### Minor Changes

- f478087: Added logic handle external egress permissions
- c3ee9e7: Convert permissions.external to CSP options for Custom UI

### Patch Changes

- 74a0279: Allowlist images from Atlassian API inside Custom UI apps
- f8bb329: Adding on user defined CSP from the manifest

## 1.1.0-next.3

### Minor Changes

- c3ee9e7: Convert permissions.external to CSP options for Custom UI

## 1.1.0-next.2

### Minor Changes

- f478087: Added logic handle external egress permissions

## 1.0.2-next.1

### Patch Changes

- f8bb329: Adding on user defined CSP from the manifest

## 1.0.2-next.0

### Patch Changes

- 8ad9442: Allowlist images from Atlassian API inside Custom UI apps

## 1.0.1

### Patch Changes

- 4ef25ff: change occurrences of Csp to CSP for consistency

## 1.0.1-next.0

### Patch Changes

- 4ef25ff: change occurrences of Csp to CSP for consistency

## 1.0.0

### Major Changes

- 1daf2c5: Forge packages to 1.0.0 for upcoming platform GA ðŸŽ‰

### Patch Changes

- ca7a9e1: Add local tunnel Custom UI CSP reported server

## 1.0.0-next.1

### Major Changes

- 1daf2c5: Forge is now generally available ðŸŽ‰

## 0.1.2-next.0

### Patch Changes

- 1b3bfe1: Add local tunnel Custom UI CSP reported server

## 0.1.1

### Patch Changes

- 69064a4: Add secure.gravatar.com to img-src

## 0.1.1-next.0

### Patch Changes

- 69064a4: Add secure.gravatar.com to img-src

## 0.1.0

### Minor Changes

- 41dcd69: Moved CSP logic to its own package and bridge script to cli-shared

### Patch Changes

- a7f8517: Move cli-shared out of the main deps of the CDN

## 0.1.0-next.1

### Patch Changes

- a7f8517: Move cli-shared out of the main deps of the CDN

## 0.1.0-next.0

### Minor Changes

- 41dcd69: Moved CSP logic to its own package and bridge script to cli-shared

### Patch Changes

- Updated dependencies [41dcd69]
  - @forge/cli-shared@0.13.0-next.5
