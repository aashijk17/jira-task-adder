"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getEntryPoints = exports.NODE_MODULES_DIR = exports.SOURCE_DIR = exports.getOutputDir = void 0;
const tslib_1 = require("tslib");
const path_1 = tslib_1.__importDefault(require("path"));
const cli_shared_1 = require("@forge/cli-shared");
function getOutputDir(args) {
    const outputDir = args.watchMode === 'debug' ? path_1.default.resolve(cli_shared_1.TUNNEL_BUNDLE_DIRECTORY) : (0, cli_shared_1.tmpDir)('dist');
    return outputDir;
}
exports.getOutputDir = getOutputDir;
exports.SOURCE_DIR = 'src';
exports.NODE_MODULES_DIR = 'node_modules';
function getEntryPoints(handlers) {
    const modules = new Set(handlers.map(({ module }) => module));
    return Array.from(modules).map((module) => ({
        name: module,
        path: path_1.default.resolve(exports.SOURCE_DIR, module)
    }));
}
exports.getEntryPoints = getEntryPoints;
